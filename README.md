NSUserDefaults is confusing and weird. This is my attempt to figure out it's behavior using unit tests.
